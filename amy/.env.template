# ============================================
# amy (intel i3-2310m, 16gb ram) - environment variables
# version: 85
# ============================================
# important: this file contains secrets - protect accordingly
# after creating .env from this template:
#   chmod 600 /docker-compose/.env
# ============================================
# do not commit this file to git with real values
# use .env.template for version control, .env for actual secrets
# ============================================

# ============================================
# system
# ============================================
TIMEZONE=America/Toronto
PUID=1000
PGID=1000
HOST_IP=192.168.21.130

# ============================================
# tailscale
# ============================================
# get auth key from: https://login.tailscale.com/admin/settings/keys
TAILSCALE_DOMAIN=bunny-enigmatic.ts.net
TSDPROXY_AUTHKEY=tskey-auth-REPLACE_WITH_YOUR_KEY

# ============================================
# postgresql (used by atuin, miniflux, sss)
# ============================================
# generate with: openssl rand -base64 32
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# ============================================
# miniflux
# ============================================
# admin account for miniflux web ui
MINIFLUX_ADMIN_USERNAME=miniflux
MINIFLUX_ADMIN_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# ============================================
# pihole
# ============================================
# admin password for pihole web interface
PIHOLE_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# ============================================
# beszel agent
# ============================================
# get these from beszel hub when adding amy as a system
# 1. open beszel web ui
# 2. add new system "amy"
# 3. copy the key and token provided
BESZEL_KEY=ssh-ed25519 REPLACE_WITH_KEY_FROM_BESZEL_HUB
BESZEL_TOKEN=REPLACE_WITH_TOKEN_FROM_BESZEL_HUB

# ============================================
# spendspentspent
# ============================================
# password hashing salt - generate with:
#   openssl rand -base64 24 | tr -d '/+=' | head -c 32
# !! do not change after initial setup !!
# changing this will invalidate all user passwords
SSS_SALT=REPLACE_WITH_32_CHAR_RANDOM_STRING

# ============================================
# diun (container update notifications)
# ============================================
# ntfy topic for container update notifications
# this topic will receive messages when container updates are available
DIUN_NTFY_TOPIC=container-updates-amy

# ============================================
# watchtower (legacy - kept for fallback)
# ============================================
# watchtower is commented out in v85 (replaced by diun+trivy)
# keep this variable empty or remove it
# if you need to re-enable watchtower, set to ntfy url:
#   WATCHTOWER_NOTIFICATION_URL=http://localhost:8888/watchtower-amy
WATCHTOWER_NOTIFICATION_URL=

# ============================================
# quick setup commands
# ============================================
# generate all secrets at once:
#
# echo "POSTGRES_PASSWORD=$(openssl rand -base64 32)"
# echo "MINIFLUX_ADMIN_PASSWORD=$(openssl rand -base64 18 | tr -d '/+=')"
# echo "PIHOLE_PASSWORD=$(openssl rand -base64 12 | tr -d '/+=')"
# echo "SSS_SALT=$(openssl rand -base64 24 | tr -d '/+=' | head -c 32)"
#
# ============================================
